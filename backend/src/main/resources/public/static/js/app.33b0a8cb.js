(function(e){function t(t){for(var r,i,a=t[0],u=t[1],c=t[2],d=0,p=[];d<a.length;d++)i=a[d],s[i]&&p.push(s[i][0]),s[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==s[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},s={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var l=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0490":function(e,t,n){"use strict";var r=n("dd1d"),s=n.n(r);s.a},"2ed8":function(e,t,n){"use strict";var r=n("e7a1"),s=n.n(r);s.a},"3cf4":function(e,t,n){"use strict";var r=n("a57d"),s=n.n(r);s.a},"56d7":function(e,t,n){"use strict";n.r(t);n("14c6"),n("08c1"),n("4842"),n("d9fc");var r=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" |\n    "),n("router-link",{attrs:{to:"/login"}},[e._v("Inloggen")]),e._v(" |\n    "),n("router-link",{attrs:{to:"/controlpanel"}},[e._v("Control Panel")])],1),n("router-view",{key:e.$route.fullPath})],1)},o=[],i={name:"app"},a=i,u=(n("5c0b"),n("2877")),c=Object(u["a"])(a,s,o,!1,null,null,null),l=c.exports,d=n("8c4f"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("img",{attrs:{src:n("ad5f")}}),r("h1",[e._v("Welkom!")]),r("br"),r("br"),r("DienstList",{attrs:{Homepage:""}})],1)},f=[],m=(n("7f7f"),n("bc3a")),h=n.n(m),v=h.a.create({baseURL:"/api"}),g={status:function(){return v.get("/status")},createDienst:function(e){return v.post("/dienst/create/"+e.name+"/"+e.key)},createDienstWithRelevance:function(e){return v.post("/dienst/create/"+e.name+"/"+e.key+"/"+e.relevance)},getSecured:function(e,t){return v.get("/secured/",{auth:{username:e,password:t}})}},_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"dienst_list"}},[e.Homepage?n("div",{staticClass:"buttons"},[n("input",{attrs:{type:"button",id:"regButton",value:"Studenten"},on:{click:function(t){return e.setSort("Studenten")}}}),n("input",{attrs:{type:"button",id:"regButton",value:"Docenten"},on:{click:function(t){return e.setSort("Docenten")}}}),n("input",{attrs:{type:"button",id:"regButton",value:"Onderwijsondersteunend Personeel"},on:{click:function(t){return e.setSort("OP")}}}),n("input",{attrs:{type:"button",id:"actionButton",value:"Check"},on:{click:function(t){return e.check()}}})]):e._e(),e.ControlPanel?n("div",{staticClass:"buttons"},[n("router-link",{attrs:{to:"/workshop/Dienst/Aanmaken"}},[n("input",{attrs:{type:"button",value:"Nieuwe Dienst"}})]),n("router-link",{attrs:{to:"/logs"}},[n("input",{attrs:{type:"button",value:"Logs"}})])],1):e._e(),e._l(e.diensten,function(t){return n("div",{key:t.id},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[e.Homepage?n("div",{staticClass:"homepageContent"},[n("h6",{staticClass:"card-title"},[e._v("\r\n                        "+e._s(t.name)+"\r\n                    ")]),n("h6",{staticClass:"card-text"},[e._v("\r\n                        "+e._s(t.status)+"\r\n                    ")])]):e._e(),e.ControlPanel?n("div",{staticClass:"controlPanelContent"},[n("router-link",{attrs:{to:"/dienst/Aanmaken"}},[n("h6",{staticClass:"card-title"},[e._v("\r\n                            "+e._s(t.name)+"\r\n                        ")]),n("h6",{staticClass:"card-text"},[e._v("\r\n                            "+e._s(t.status)+"\r\n                        ")])])],1):e._e()])])])})],2)},k=[],b=(n("6762"),n("2fdb"),n("55dd"),{name:"dienst_list",props:{Homepage:Boolean,ControlPanel:Boolean},mounted:function(){this.check()},data:function(){return{diensten:[],sortBy:"Studenten"}},methods:{check:function(){var e=this;this.diensten=[],g.status().then(function(e){return e.data.Diensten}).then(function(t){for(var n=0;n<t.length;n++){var r=t[n];e.diensten.push({id:r.dienstId,key:r.key,name:r.name,relevance:r.relevance,status:r.status,score:0})}}).then(function(t){e.sort(e.diensten)}).catch(function(e){console.log(e)})},sort:function(e){var t=function(t){for(var n=0;n<e.length;n++){var r=e[n];r.score=0,null==r.relevance&&(r.score+=1),"None"!=t&&null!=r.relevance&&(r.score+=2*r.relevance.includes(t))}};t(this.sortBy),this.diensten.sort(function(e,t){return-1*(e.score-t.score)})},setSort:function(e){this.sortBy=e,this.check()}}}),w=b,y=(n("0490"),Object(u["a"])(w,_,k,!1,null,"2f525a96",null)),C=y.exports,j={name:"home",components:{DienstList:C}},D=j,E=(n("2ed8"),Object(u["a"])(D,p,f,!1,null,"51c169e8",null)),x=E.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"workshop"},[e.Dienst.Aanmaken?n("DienstWorkshop",{attrs:{Aanmaken:""}}):e._e(),e.Dienst.Wijzigen?n("DienstWorkshop",{attrs:{Wijzigen:""}}):e._e(),e.Dienst.Verwijderen?n("DienstWorkshop",{attrs:{Verwijderen:""}}):e._e()],1)},O=[],S=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},$=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dienst_workshop"},[n("h1",[e._v("Dienst Aanmaken")])])}],A={name:"dienst_workshop",props:{Aanmaken:!0,Wijzigen:!1,Verwijderen:!1}},W=A,L=Object(u["a"])(W,S,$,!1,null,null,null),B=L.exports,I={name:"workshop",mounted:function(){console.log(this.$route.params.action),console.log(this.$route.params.type);var e=this.$route.params.type,t=this.$route.params.action;"Dienst"==e&&(this.Dienst.Aanmaken="Aanmaken"==t,this.Dienst.Wijzigen="Wijzigen"==t,this.Dienst.Verwijderen="Verwijderen"==t)},components:{DienstWorkshop:B},data:function(){return{Dienst:{Aanmaken:!0,Wijzigen:!1,Verwijderen:!1}}}},z=I,T=Object(u["a"])(z,P,O,!1,null,null,null),V=T.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("h5",[e._v("Gebruik uw emailadres en wachtwoord om in te loggen.")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.callLogin()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"text",placeholder:"E-mail"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.pass,expression:"user.pass"}],attrs:{type:"text",placeholder:"Wachtwoord"},domProps:{value:e.user.pass},on:{input:function(t){t.target.composing||e.$set(e.user,"pass",t.target.value)}}}),n("b-btn",{attrs:{variant:"success",type:"submit"}},[e._v("Inloggen")]),e.error?n("p",{staticClass:"error"},[e._v("De inloggegevens zijn incorrect")]):e._e()],1)])},U=[],M={name:"login",data:function(){return{user:{email:"jessepols@gmail.com",pass:""},loginError:!1,error:!1,errors:[]}},methods:{callLogin:function(){var e=this;this.errors=[],this.$store.dispatch("login",{email:this.user.email,password:this.user.pass}).then(function(){e.$router.push("/controlpanel")}).catch(function(t){e.loginError=!0,e.errors.push(t),e.error=!0})}}},N=M,R=Object(u["a"])(N,H,U,!1,null,null,null),q=R.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("DienstList",{attrs:{ControlPanel:""}})],1)},G=[],F=n("2f62"),K=(n("28a5"),{setCookie:function(e,t,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var s="expires="+r.toUTCString();document.cookie=e+"="+t+";"+s+";path=/"},getCookie:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie),r=n.split(";"),s=0;s<r.length;s++){var o=r[s];while(" "==o.charAt(0))o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},checkCookie:function(e){return""!=this.getCookie(e)}});r["default"].use(F["a"]);var Q=new F["a"].Store({state:{loginSuccess:!1,loginError:!1,userEmail:null,userPass:null},mutations:{login_success:function(e,t){e.loginSuccess=!0,e.userEmail=t.userEmail,e.userPass=t.userPass},login_error:function(e,t){e.loginError=!0,e.userEmail=t.userEmail}},actions:{login:function(e,t){var n=e.commit,r=t.email,s=t.password;return new Promise(function(e,t){console.log("Accessing backend with user: '"+r),g.getSecured(r,s).then(function(t){console.log("Response: '"+t.data+"' with Statuscode "+t.status),200==t.status&&(console.log("Login successful"),n("login_success",{userEmail:r,userPass:s}),K.setCookie("loggedIn","True",12)),e(t)}).catch(function(e){console.log("Error: "+e),n("login_error",{userEmail:r}),t("Invalid credentials!")})})}},getters:{isLoggedIn:function(e){return e.loginSuccess},hasLoginErrored:function(e){return e.loginError},getUserEmail:function(e){return e.userEmail},getUserPass:function(e){return e.userPass}}}),X={name:"controlpanel",components:{DienstList:C},data:function(){return{}}},Y=X,Z=(n("3cf4"),Object(u["a"])(Y,J,G,!1,null,null,null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"logs"},[n("h1",[e._v("Logs")]),n("div",{attrs:{id:"dienst_table"}},e._l(e.diensten,function(t){return n("div",{key:t.id},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("h6",{staticClass:"card-title"},[e._v("\n                      "+e._s(t.name)+"\n                  ")]),n("p",{staticClass:"card-text"}),n("div",[e._v("\n                          "+e._s(t.status)+"\n                      ")])])])])}),0)])},ne=[],re={name:"logs"},se=re,oe=Object(u["a"])(se,te,ne,!1,null,null,null),ie=oe.exports;r["default"].use(d["a"]);var ae=new d["a"]({mode:"history",routes:[{path:"/",component:x},{path:"/login",component:q},{path:"/controlpanel",component:ee,meta:{requiresAuth:!0}},{path:"/workshop/:type/:action",component:V,meta:{requiresAuth:!0}},{path:"/logs",component:ie},{path:"*",redirect:"/"}]});ae.beforeEach(function(e,t,n){e.matched.some(function(e){return e.meta.requiresAuth})?K.checkCookie("loggedIn")?n():n({path:"/login"}):n()});var ue=ae,ce=n("5f5b");n("f9e3"),n("2dd8");r["default"].config.productionTip=!1,r["default"].use(ce["a"]),new r["default"]({router:ue,store:Q,render:function(e){return e(l)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var r=n("5e27"),s=n.n(r);s.a},"5e27":function(e,t,n){},a57d:function(e,t,n){},ad5f:function(e,t,n){e.exports=n.p+"static/img/spring-boot-vuejs-logo.6886ee1f.png"},dd1d:function(e,t,n){},e7a1:function(e,t,n){}});
//# sourceMappingURL=app.33b0a8cb.js.map